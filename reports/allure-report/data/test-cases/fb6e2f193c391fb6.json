{"uid":"fb6e2f193c391fb6","name":"test_featured_course_appears_on_home_page","fullName":"testcases.e2e.test_featured_course#test_featured_course_appears_on_home_page","historyId":"bc51d15bf1c548241e1dd603957cadc2","time":{"start":1760685803245,"stop":1760685832275,"duration":29030},"description":"Test that when admin turn on featured course\n     then course appears on home page ","descriptionHtml":"<p>Test that when admin turn on featured course<br />\nthen course appears on home page</p>\n","status":"failed","statusMessage":"AssertionError: COURSE Robotics - rrs2 not found in featured Course's list\nassert 'COURSE Robotics - rrs2' in ['COURSE Cloud Security - zm9i', 'BETA_TP45 COURSE_3']","statusTrace":"page = <Page url='https://beta.findyourcourses.org/'>, login = <function login.<locals>._login_and_verify_dashboard at 0x00000208DF7811C0>\n\n    @pytest.mark.e2e\n    async def test_featured_course_appears_on_home_page(page,login):\n    \n        \"\"\"Test that when admin turn on featured course\n         then course appears on home page \"\"\"\n    \n        await login(page, \"admin\")\n    \n        menu = AdminDashboard(page)\n        await menu.navigate_to_courses()\n    \n        await page.get_by_role(\"button\", name=\"Approved\").click()\n    \n        # find and open un-featured course\n        logger.info(\"\\nDoes Any course have Feature value 'No'?\")\n        unchecked, row = await check_element_in_table(page, 'No', 11, \"Approved\")\n        if not unchecked:\n            pytest.skip(\"All Course are already marked as featured course...Skipping Test\")\n        course_name = await (await row.query_selector(\"td:nth-child(3)\")).inner_text()\n    \n        # View Course details\n        await (await row.query_selector(\"td:last-child button\")).click()\n        await view_course_details(page)\n    \n        # featured course\n        logger.info(f\"\\nTurning ON featured button for {course_name}\")\n        detail_page = CourseDetailPage(page)\n        await detail_page.turn_on_featured_btn()\n    \n        # Verify success message\n        logger.info(f\"\\n{await check_success_message(page)}\")\n    \n        #Navigate to Learner Portal\n        await page.goto(\"https://beta.findyourcourses.org/\")\n        await page.wait_for_load_state(\"domcontentloaded\")\n    \n        #Navigate to Featured Course list\n        featured_course_ele=page.locator(\"(//div[@aria-roledescription='carousel'])[1]//h3\")\n        await featured_course_ele.first.scroll_into_view_if_needed()\n        featured_tps=await featured_course_ele.all_inner_texts()\n    \n        #Verify Course name\n>       assert course_name in featured_tps,f\"{course_name} not found in featured Course's list\"\nE       AssertionError: COURSE Robotics - rrs2 not found in featured Course's list\nE       assert 'COURSE Robotics - rrs2' in ['COURSE Cloud Security - zm9i', 'BETA_TP45 COURSE_3']\n\ntestcases\\e2e\\test_featured_course.py:53: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1760684440451,"stop":1760684440451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"pytestconfig","time":{"start":1760684440451,"stop":1760684440451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"delete_output_dir","time":{"start":1760684440451,"stop":1760684440451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"event_loop_policy","time":{"start":1760684440451,"stop":1760684440451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_verify_url","time":{"start":1760684440451,"stop":1760684440451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_function_event_loop","time":{"start":1760685801288,"stop":1760685801289,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"page","time":{"start":1760685801288,"stop":1760685803244,"duration":1956},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login","time":{"start":1760685803244,"stop":1760685803244,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"set_global_timeouts","time":{"start":1760685803244,"stop":1760685803244,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"description":"Test that when admin turn on featured course\n     then course appears on home page ","status":"failed","statusMessage":"AssertionError: COURSE Robotics - rrs2 not found in featured Course's list\nassert 'COURSE Robotics - rrs2' in ['COURSE Cloud Security - zm9i', 'BETA_TP45 COURSE_3']","statusTrace":"page = <Page url='https://beta.findyourcourses.org/'>, login = <function login.<locals>._login_and_verify_dashboard at 0x00000208DF7811C0>\n\n    @pytest.mark.e2e\n    async def test_featured_course_appears_on_home_page(page,login):\n    \n        \"\"\"Test that when admin turn on featured course\n         then course appears on home page \"\"\"\n    \n        await login(page, \"admin\")\n    \n        menu = AdminDashboard(page)\n        await menu.navigate_to_courses()\n    \n        await page.get_by_role(\"button\", name=\"Approved\").click()\n    \n        # find and open un-featured course\n        logger.info(\"\\nDoes Any course have Feature value 'No'?\")\n        unchecked, row = await check_element_in_table(page, 'No', 11, \"Approved\")\n        if not unchecked:\n            pytest.skip(\"All Course are already marked as featured course...Skipping Test\")\n        course_name = await (await row.query_selector(\"td:nth-child(3)\")).inner_text()\n    \n        # View Course details\n        await (await row.query_selector(\"td:last-child button\")).click()\n        await view_course_details(page)\n    \n        # featured course\n        logger.info(f\"\\nTurning ON featured button for {course_name}\")\n        detail_page = CourseDetailPage(page)\n        await detail_page.turn_on_featured_btn()\n    \n        # Verify success message\n        logger.info(f\"\\n{await check_success_message(page)}\")\n    \n        #Navigate to Learner Portal\n        await page.goto(\"https://beta.findyourcourses.org/\")\n        await page.wait_for_load_state(\"domcontentloaded\")\n    \n        #Navigate to Featured Course list\n        featured_course_ele=page.locator(\"(//div[@aria-roledescription='carousel'])[1]//h3\")\n        await featured_course_ele.first.scroll_into_view_if_needed()\n        featured_tps=await featured_course_ele.all_inner_texts()\n    \n        #Verify Course name\n>       assert course_name in featured_tps,f\"{course_name} not found in featured Course's list\"\nE       AssertionError: COURSE Robotics - rrs2 not found in featured Course's list\nE       assert 'COURSE Robotics - rrs2' in ['COURSE Cloud Security - zm9i', 'BETA_TP45 COURSE_3']\n\ntestcases\\e2e\\test_featured_course.py:53: AssertionError","steps":[],"attachments":[{"uid":"c5b2430a3fe16a23","name":"log","source":"c5b2430a3fe16a23.txt","type":"text/plain","size":1505}],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":1},"afterStages":[{"name":"set_global_timeouts::0","time":{"start":1760685832288,"stop":1760685832288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"page::finalizer","time":{"start":1760685832290,"stop":1760685833373,"duration":1083},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_function_event_loop::0","time":{"start":1760685833374,"stop":1760685833375,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"e2e"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"testcases.e2e"},{"name":"suite","value":"test_featured_course"},{"name":"host","value":"DESKTOP-B719PVK"},{"name":"thread","value":"10844-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.e2e.test_featured_course"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"63a11054da227bca","status":"failed","statusDetails":"AssertionError: COURSE Digital Transformation - x6sd not found in featured Course's list\nassert 'COURSE Digital Transformation - x6sd' in ['BETA_TP13', 'BETA_TP41', 'BETA_TP15', 'BETA_TP1', 'BETA_TP41', 'BETA_TP11', ...]","time":{"start":1760685771647,"stop":1760685800677,"duration":29030}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["asyncio","e2e"]},"source":"fb6e2f193c391fb6.json","parameterValues":[]}