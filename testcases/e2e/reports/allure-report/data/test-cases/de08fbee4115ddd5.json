{"uid":"de08fbee4115ddd5","name":"test_login_session_webkit[learner-https://beta.findyourcourses.org/portal/dashboard]","fullName":"testcases.e2e.test_login_sessions#test_login_session_webkit","historyId":"73f9c87c14d5d9dba4ae2a408305f358","time":{"start":1761719957774,"stop":1761719959999,"duration":2225},"description":"Test session persistence in Webkit - known to be unstable.","descriptionHtml":"<p>Test session persistence in Webkit - known to be unstable.</p>\n","status":"broken","statusMessage":"playwright._impl._errors.TargetClosedError: BrowserContext.new_page: Target page, context or browser has been closed","statusTrace":"login = <function login.<locals>._login_and_verify_dashboard at 0x000001BC7E536200>\nrole = 'learner', link = 'https://beta.findyourcourses.org/portal/dashboard'\n\n    @pytest.mark.parametrize(\n        \"role,link\", [\n            (\"learner\", \"https://beta.findyourcourses.org/portal/dashboard\"),\n            (\"trainer\", \"https://beta-tp.findyourcourses.org/portal/dashboard\"),\n            (\"admin\", \"https://beta-admin.findyourcourses.org/portal/dashboard\")\n        ], )\n    async def test_login_session_webkit(login, role, link):\n        \"\"\"Test session persistence in Webkit - known to be unstable.\"\"\"\n    \n        async with async_playwright() as p:\n            browser = await p.webkit.launch(headless=False, slow_mo=2000)\n            context = await browser.new_context()\n>           page = await context.new_page()\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\n\ntest_login_sessions.py:74: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nC:\\Users\\dell\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\playwright\\async_api\\_generated.py:12775: in new_page\n    return mapping.from_impl(await self._impl_obj.new_page())\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\dell\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\playwright\\_impl\\_browser_context.py:333: in new_page\n    return from_channel(await self._channel.send(\"newPage\", None))\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nC:\\Users\\dell\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\playwright\\_impl\\_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Connection object at 0x000001BC7E548BF0>\ncb = <function Channel.send.<locals>.<lambda> at 0x000001BC7E5645E0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TargetClosedError: BrowserContext.new_page: Target page, context or browser has been closed\n\nC:\\Users\\dell\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\playwright\\_impl\\_connection.py:558: TargetClosedError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1761719952993,"stop":1761719952993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"base_url","time":{"start":1761719952994,"stop":1761719952994,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"pytestconfig","time":{"start":1761719952994,"stop":1761719952995,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_verify_url","time":{"start":1761719952994,"stop":1761719952994,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"page","time":{"start":1761719952995,"stop":1761719957771,"duration":4776},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_function_scoped_runner","time":{"start":1761719952995,"stop":1761719953000,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"delete_output_dir","time":{"start":1761719952995,"stop":1761719952995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"set_global_timeouts","time":{"start":1761719957771,"stop":1761719957771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"login","time":{"start":1761719957771,"stop":1761719957772,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"afterStages":[{"name":"set_global_timeouts::0","time":{"start":1761719960694,"stop":1761719960694,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"page::finalizer","time":{"start":1761719960696,"stop":1761719961674,"duration":978},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_function_scoped_runner::0","time":{"start":1761719961678,"stop":1761719961679,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"testcases.e2e"},{"name":"suite","value":"test_login_sessions"},{"name":"host","value":"DESKTOP-B719PVK"},{"name":"thread","value":"28504-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcases.e2e.test_login_sessions"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"link","value":"'https://beta.findyourcourses.org/portal/dashboard'"},{"name":"role","value":"'learner'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[]}],"tags":["asyncio"]},"source":"de08fbee4115ddd5.json","parameterValues":["'https://beta.findyourcourses.org/portal/dashboard'","'learner'"]}